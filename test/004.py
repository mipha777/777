# -*- coding: utf-8 -*-
"""
@Author   : shaozi
@Version  : Python 3.12
@Date     : 2025/8/1 22:10
@Desc     : 
"""

import requests


headers = {
    'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7',
    'accept-language': 'zh-CN,zh;q=0.9,en;q=0.8',
    'priority': 'u=0, i',
    'referer': 'https://music.163.com/',
    'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"Windows"',
    'sec-fetch-dest': 'iframe',
    'sec-fetch-mode': 'navigate',
    'sec-fetch-site': 'same-origin',
    'upgrade-insecure-requests': '1',
    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36',
    # 'cookie': '_ntes_nnid=b9929e671a0c5d00f0f0ef8475f86e73,1753785264977; _ntes_nuid=b9929e671a0c5d00f0f0ef8475f86e73; NMTID=00OGB0USzNOd0QxHEtAgpN8v2UW5q8AAAGYVb9osA; WEVNSM=1.0.0; WNMCID=pkalun.1753785266103.01.0; WM_TID=TYeaEZKe%2FsBBAEUBUALXkSJznu556ARO; sDeviceId=YD-%2BqhUC3P6%2F4NFQkRUEBfCkTJzjr8%2FCMDT; __snaker__id=Jq562J2MhXS7dlLc; ntes_kaola_ad=1; _iuqxldmzr_=32; __csrf=1e861b79128bec2470f3560f49e13f69; MUSIC_U=005FA2B823AEBB3589DB9F0BDA15A6428B83D4C6A8CA34806C76F6CE4482045190639FE9C3964348DFCABE00BC9E4A2BDB86D59FE3C429755480C8AE98003CECA31D428EA8C1130645920A6EC33E2252F480FFBEE69728D3B84DE093B8A5E410BCAD82A8B580A1C219E630565B021F444BD86BE6F9EAB7203F889766B777522A574015338A8028E4AC7088D5A74C0803B3B4BB9EECA8CCB388DDCD036822BC372BD951E8BA6C955C77D1E4738DA0C320CC2AC223B4BFAEE0B4E79DBDFA7BCEE72C57B5B65FF90ADD619490E2AF328709ED8B18C69A6620ACE76C5D1E0D43EB8BADAB6897A056801ECAFB3AA31029704A35D1FA5C13F669334B6593F3650CF76F79014A52C7992A6EC100A00AB7A111BC6B21FC382FD303C75F89B48E070D7EFF25B1A30B97CFB88747BCC527AB35DD6CFC382A4D6DAA8BDF88126B716626BBC7AC94291566CFFBABD6B8201BA182F35940D087241C2738121CFB824B318C74B8BD5D9A7F41B52FB04CA5DB0853722CC44489893CBCA2DAF314617F4B642E8629EC53E3CCA9F3943F1702D660F785A1316C; gdxidpyhxdE=ewI%2BlMUg8OK04xbxpTn9USXAdpZz%2B4RCj6r66%5CBLBl0vVcT%2FKJb8QumP3yEKTTQxqYrldUGYGRBVY0WN664iOWqGiL8rXCNRHIh4dYwjHm15TES6YeRM0bLx5CnOvpAc9NVzKzlIzZ7gwrYqJQ%5CnsIPtfNGaQZ4MAxWxSVozkdX9OT%2Fy%3A1753810833607; ntes_utid=tid._.H5VVJc8vUABERwVBEUeClWd2jus7HSlZ._.0.%2C.edd._.._.0; WM_NI=3%2F1h8r%2FZQKaDWNqIuRNQUPfVY8er4IpFXKzBP9y5hRgFBdb27pwk7e1MOtVdsAg4NEmNsj5oiRTA10vnRC0oNMk0bK%2BR%2BmlTyG1VjA2myl6czY6nIHGTxAOqrsxghFK6cGs%3D; WM_NIKE=9ca17ae2e6ffcda170e2e6eeb8c67b9c8b8eaace409a9e8aa6c15f979f8e83db6895a9fdb9ee64b5efa785f72af0fea7c3b92af1f1ff89bb7aed869face4509592bfaaf85a8e8f9bb1e55e9be8ab93b743b49a98acf94a94e7b7d6eb5aa59a8e85e13af5b0b98cb66ff3938195d570b19fa9d5cd4faf92bd8bb865ab8e9ca2b43cb6b29ea4b3658e93a5d1e141e98ee58eef60bb99ffb7e94bf2b3b78db569ba87fa8fcc44858cb8a2ce7bb2adb888eb4e89eaada8f237e2a3; JSESSIONID-WYYY=1jqwu%2B92qR%2Boquu9ZDDhFOv46M9p6z83J69M8gC%2B0yYvk4OUttJIV2%2BqNt2hdGreYRKNJru2gfu0KyND65Vlx1I5Z6t81tjZqaiVv7lZ2SVblFJEmfy%2Bl3UQEhnoD%2FQl1UesNBvvmzsDjMvOGbNuwoK2cjZ57gZBAmy0hHUi5Vzu9TEY%3A1754058958655',
}

cookies = {
    '_ntes_nnid': 'b9929e671a0c5d00f0f0ef8475f86e73,1753785264977',
    '_ntes_nuid': 'b9929e671a0c5d00f0f0ef8475f86e73',
    'NMTID': '00OGB0USzNOd0QxHEtAgpN8v2UW5q8AAAGYVb9osA',
    'WEVNSM': '1.0.0',
    'WNMCID': 'pkalun.1753785266103.01.0',
    'WM_TID': 'TYeaEZKe%2FsBBAEUBUALXkSJznu556ARO',
    'sDeviceId': 'YD-%2BqhUC3P6%2F4NFQkRUEBfCkTJzjr8%2FCMDT',
    '__snaker__id': 'Jq562J2MhXS7dlLc',
    'ntes_kaola_ad': '1',
    '_iuqxldmzr_': '32',
    '__csrf': '1e86115153f69',
    'MUSIC_U': '005FA2B823AEBB3589DB9F0BDA15A6428B83D4C6A8CA34806C76F6CE4482045190639FE9C3964348DFCABE00BC9E4A2BDB86D59FE3C429755480C8AE98003CECA31D428EA8C1130645920A6EC33E2252F480FFBEE69728D3B84DE093B8A5E410BCAD82A8B580A1C219E630565B021F444BD86BE6F9EAB7203F889766B777522A574015338A8028E4AC7088D5A74C0803B3B4BB9EECA8CCB388DDCD036822BC372BD951E8BA6C955C77D1E4738DA0C320CC2AC223B4BFAEE0B4E79DBDFA7BCEE72C57B5B65FF90ADD619490E2AF328709ED8B18C69A6620ACE76C5D1E0D43EB8BADAB6897A056801ECAFB3AA31029704A35D1FA5C13F669334B6593F3650CF76F79014A52C7992A6EC100A00AB7A111BC6B21FC382FD303C75F89B48E070D7EFF25B1A30B97CFB88747BCC527AB35DD6CFC382A4D6DAA8BDF88126B716626BBC7AC94291566CFFBABD6B8201BA182F35940D087241C2738121CFB824B318C74B8BD5D9A7F41B52FB04CA5DB0853722CC44489893CBCA2DAF314617F4B642E8629EC53E3CCA9F3943F1702D660F785A1316C',
    'gdxidpyhxdE': 'ewI%2BlMUg8OK04xbxpTn9USXAdpZz%2B4RCj6r66%5CBLBl0vVcT%2FKJb8QumP3yEKTTQxqYrldUGYGRBVY0WN664iOWqGiL8rXCNRHIh4dYwjHm15TES6YeRM0bLx5CnOvpAc9NVzKzlIzZ7gwrYqJQ%5CnsIPtfNGaQZ4MAxWxSVozkdX9OT%2Fy%3A1753810833607',
    'ntes_utid': 'tid._.H5VVJc8vUABERwVBEUeClWd2jus7HSlZ._.0.%2C.edd._.._.0',
    'WM_NI': '3%2F1h8r%2FZQKaDWNqIuRNQUPfVY8er4IpFXKzBP9y5hRgFBdb27pwk7e1MOtVdsAg4NEmNsj5oiRTA10vnRC0oNMk0bK%2BR%2BmlTyG1VjA2myl6czY6nIHGTxAOqrsxghFK6cGs%3D',
    'WM_NIKE': '9ca17ae2e6ffcda170e2e6eeb8c67b9c8b8eaace409a9e8aa6c15f979f8e83db6895a9fdb9ee64b5efa785f72af0fea7c3b92af1f1ff89bb7aed869face4509592bfaaf85a8e8f9bb1e55e9be8ab93b743b49a98acf94a94e7b7d6eb5aa59a8e85e13af5b0b98cb66ff3938195d570b19fa9d5cd4faf92bd8bb865ab8e9ca2b43cb6b29ea4b3658e93a5d1e141e98ee58eef60bb99ffb7e94bf2b3b78db569ba87fa8fcc44858cb8a2ce7bb2adb888eb4e89eaada8f237e2a3',
    'JSESSIONID-WYYY': '1jqwu%2B92qR%2Boquu9ZDDhFOv46M9p6z83J69M8gC%2B0yYvk4OUttJIV2%2BqNt2hdGreYRKNJru2gfu0KyND65Vlx1I5Z6t81tjZqaiVv7lZ2SVblFJEmfy%2Bl3UQEhnoD%2FQl1UesNBvvmzsDjMvOGbNuwoK2cjZ57gZBAmy0hHUi5Vzu9TEY%3A1754058958655',
}

# 登录用户才能访问的页面
url = 'https://music.163.com/api/user/account'
# 或者 https://music.163.com/#/user/home?id=你的ID

res = requests.get(url, headers=headers, cookies=cookies)
print(res.text)
if 'login' in res.url.lower() or '登录' in res.text:
    print('❌ Cookie 已失效，未登录')
else:
    print('✅ Cookie 有效，已登录')
